
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TEDの英文を取得する - ni-blog</title>
  <meta name="author" content="niku4i">

  
  <meta name="description" content="TEDのトークショーの内容をテキストデータで取得できるという話を聞きましたのでRubyで英文をprintするコードを書いてみました。 URLを叩くとJSONで返してくれるのでparseしてputsするだけでした。 #!/usr/bin/env ruby #
# Dump subtitle in &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://orihubon.com/blog/2012/04/09/fetch-subtitle-for-talks-in-ted/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
   <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="ni-blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-262568-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">ni-blog</a></h1>
  
    <h2>keep memo memo</h2>
  
</hgroup>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:orihubon.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav> -->
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">TEDの英文を取得する</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-09T01:49:00+09:00" pubdate data-updated="true">Apr 9<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>TEDのトークショーの内容をテキストデータで取得できるという話を聞きましたのでRubyで英文をprintするコードを書いてみました。</p>

<!-- more -->


<p>URLを叩くとJSONで返してくれるのでparseしてputsするだけでした。</p>

<div><script src='https://gist.github.com/2338391.js?file='></script>
<noscript><pre><code>#!/usr/bin/env ruby

#
# Dump subtitle in text for TED
#

require 'json'
require 'open-uri'

base_url = 'http://www.ted.com/talks/subtitles'
id = 1183
url = &quot;#{base_url}/id/#{id.to_s}/lang/eng&quot;

data = JSON.parse(open(url).read)
if data &amp;&amp; data.key?('captions')
  data['captions'].each do |sentence|
    puts sentence['content']
    puts 
  end
end 
</code></pre></noscript></div>


<p><a href="http://www.ted.com/talks/matt_cutts_try_something_new_for_30_days.html">Matt Cutts: Try something new for 30 days</a> という有名なTEDのトークをひとまずdumpしてみました。</p>

<pre><code>$ ./teddump.rb
A few years ago,

I felt like I was stuck in a rut,

so I decided to follow in the footsteps

of the great American philosopher, Morgan Spurlock,

and try something new for 30 days.

The idea is actually pretty simple.

Think about something you've always wanted to add to your life

and try it for the next 30 days.

It turns out, 

30 days is just about the right amount of time
</code></pre>

<p>できました。</p>

<p>ちなみに、idはページ中のHTMLのdata-idというパラメタから取得しないと分かりません。nokogiriとかでスクレイピングする方法があるようです。</p>

<p>以下を参考にしました。</p>

<ul>
<li><a href="http://stackoverflow.com/questions/1955618/parsing-and-converting-ted-talks-json-subtitles">Parsing and Converting TED Talks JSON Subtitles</a></li>
<li><a href="http://d.hatena.ne.jp/meganii/20120320/1332214416">TEDの英語原稿を取得する - ギークを夢見るじょーぶん男子 </a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">niku4i</span></span>

      








  


<time datetime="2012-04-09T01:49:00+09:00" pubdate data-updated="true">Apr 9<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/ruby/'>Ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://orihubon.com/blog/2012/04/09/fetch-subtitle-for-talks-in-ted/" data-via="niku4i" data-counturl="http://orihubon.com/blog/2012/04/09/fetch-subtitle-for-talks-in-ted/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/04/09/gist-on-command-line/" title="Previous Post: Gist on command line">&laquo; Gist on command line</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/01/06/improve-management-of-your-dot-files-by-homesick-and-github/" title="Next Post: homesickとgithubでドットファイルを管理する">homesickとgithubでドットファイルを管理する &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="http://orihubon.com" alt="Home"><img src="/images/Home.png"></a>
      <a href="http://orihubon.com/archives/" alt="Archives"><img src="/images/Calendar.png"></a>
      <a href="http://orihubon.com/atom.xml" alt="subscribe feed"><img src="/images/rss.png"></a>
      </li>
  </ul>
</section>
<section>
  <h1>About Me</h1>
  <p>渋谷で働くインフラエンジニアブログ。プログラミング、Linuxなどの技術系の話題を中心に書いています。</p>
  <p>メッセージは<a href="https://twitter.com/#!/niku4i">@niku4i</a>へお願いします。</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/01/06/improve-management-of-your-dot-files-by-homesick-and-github/">homesickとgithubでドットファイルを管理する</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/09/fetch-subtitle-for-talks-in-ted/">TEDの英文を取得する</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/09/gist-on-command-line/">Gist on command line</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/03/mac-book-air-got-wet/">Mac Book Airが水没したので</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/20/instagram-tag-plugin-for-octopress/">OctopressにInstagramの写真を挿入するTag Pluginを作ってみた</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("niku4i", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/niku4i" class="twitter-follow-button" data-show-count="false">Follow @niku4i</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - niku4i -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
